{"version":3,"sources":["studentedit.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dashboard_studentedit.js","sourcesContent":["require(['util/site', 'util/dashboard'], function(site, dashboard) {\n\n  site.ajaxcrsf();\n\n  var options = dashboard.dataTableOptions;\n  options.dom = '<\"newbutton\">frtip';\n  dashboard.init(options);\n  site.checkMessage();\n\n  $(\"div.newbutton\").html('<a type=\"button\" class=\"btn btn-success\" href=\"/admin/newstudent\">New Student</a>');\n\n  $('#save').on('click', function(){\n    var data = {\n      first_name: $('#first_name').val(),\n      last_name: $('#last_name').val(),\n      email: $('#email').val(),\n    };\n    if($('#advisor_id').val() > 0){\n      data.advisor_id = $('#advisor_id').val();\n    }\n    if($('#department_id').val() > 0){\n      data.department_id = $('#department_id').val();\n    }\n    var id = $('#id').val();\n    data.eid = $('#eid').val();\n    if(id.length == 0){\n      var url = '/admin/newstudent';\n    }else{\n      var url = '/admin/students/' + id;\n    }\n    dashboard.ajaxsave(data, url, id);\n  });\n\n  $('#delete').on('click', function(){\n    var url = \"/admin/deletestudent\";\n    var retUrl = \"/admin/students\";\n    var data = {\n      id: $('#id').val(),\n    };\n    dashboard.ajaxdelete(data, url, retUrl, true);\n  });\n\n  $('#forcedelete').on('click', function(){\n    var url = \"/admin/forcedeletestudent\";\n    var retUrl = \"/admin/students\";\n    var data = {\n      id: $('#id').val(),\n    };\n    dashboard.ajaxdelete(data, url, retUrl);\n  });\n\n  $('#restore').on('click', function(){\n    var url = \"/admin/restorestudent\";\n    var retUrl = \"/admin/students\";\n    var data = {\n      id: $('#id').val(),\n    };\n    dashboard.ajaxrestore(data, url, retUrl);\n  });\n\n});\n"],"sourceRoot":"/source/"}