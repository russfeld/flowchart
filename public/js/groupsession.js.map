{"version":3,"sources":["groupsession.js"],"names":[],"mappings":"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","file":"groupsession.js","sourcesContent":["require(['util/site', 'pusher', 'react', 'react-dom', 'ionsound'], function(site, pusher, React, reactDOM, ionsound) {\n\n\tsite.ajaxcrsf();\n\n\tion.sound({\n    sounds: [\n        {\n            name: \"door_bell\"\n        },\n    ],\n    volume: 1.0,\n    path: \"/sounds/\",\n    preload: true\n\t});\n\n\tvar userID = parseInt($('#userID').val());\n\tvar isAdvisor = parseInt($('#isAdvisor').val());\n\n\tvar enableButton = function(){\n\t\t$('#groupRegisterBtn').removeAttr('disabled');\n\t}\n\n\tvar disableButton = function(){\n\t\t$('#groupRegisterBtn').attr('disabled', 'disabled');\n\t}\n\n\tvar checkButtons = function(queue){\n\t\tvar len = queue.length;\n\t\tvar foundMe = false;\n\t\tfor(var i = 0; i < len; i++){\n\t\t\tif(queue[i].userid === userID){\n\t\t\t\tfoundMe = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(foundMe){\n\t\t\tdisableButton();\n\t\t}else{\n\t\t\tenableButton();\n\t\t}\n\t}\n\n\tvar checkDing = function(person){\n\t\tif(person.status == 2){\n\t\t\tion.sound.play(\"door_bell\");\n\t\t}\n\t}\n\n\tvar initialCheckDing = function(queue){\n\t\tvar len = queue.length;\n\t\tfor(var i = 0; i < len; i++){\n\t\t\tif(queue[i].userid === userID){\n\t\t\t\tcheckDing(queue[i]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar getStatus = function(data){\n\t\tif(data.status === 0) return \"NEW\";\n\t\tif(data.status === 1) return \"QUEUED\";\n\t\tif(data.status === 2) return \"MEET WITH \" + data.advisor;\n\t\tif(data.status === 3) return \"DELAY\";\n\t\tif(data.status === 4) return \"ABSENT\";\n\t\tif(data.status === 5) return \"DONE\";\n\t}\n\n\t$('#groupRegisterBtn').on('click', function(){\n\t\t$('#groupSpin').removeClass('hide-spin');\n\t\t$.ajax({\n\t\t  method: \"POST\",\n\t\t  url: '/groupsession/register',\n\t\t})\n\t\t.success(function( message ) {\n\t\t\tsite.displayMessage(message, \"success\");\n\t\t\tsite.clearFormErrors();\n\t\t\tdisableButton();\n\t\t\t$('#groupSpin').addClass('hide-spin');\n\t\t}).fail(function( jqXHR, message ){\n\t\t\tif (jqXHR.status == 422)\n\t\t\t{\n\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t}else{\n\t\t\t\talert(\"Unable to register: \" + jqXHR.responseJSON);\n\t\t\t}\n\t\t\t$('#groupSpin').addClass('hide-spin');\n\t\t});\n\t});\n\n\tvar pusherInstance = new Pusher(pusherKey);\n\tvar groupSessionChannel = pusherInstance.subscribe( 'groupsession' );\n\n\tpusherInstance.connection.bind('connected', function() {\n\t\t$('#groupSpin').addClass('hide-spin');\n\t});\n\n\tPusher.log = function(message) {\n\t  if (window.console && window.console.log) {\n\t    window.console.log(message);\n\t  }\n\t};\n\n\tvar StudentRow = React.createClass({\n\t\ttakeStudent: function(event){\n\t\t\tvar gid = event.currentTarget.dataset.id;\n\t\t\t$.ajax({\n\t\t\t  method: \"POST\",\n\t\t\t  url: '/groupsession/take',\n\t\t\t\tdata: {gid: gid},\n\t\t\t})\n\t\t\t.success(function( message ) {\n\t\t\t\tsite.displayMessage(message, \"success\");\n\t\t\t}).fail(function( jqXHR, message ){\n\t\t\t\tif (jqXHR.status == 422)\n\t\t\t\t{\n\t\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t\t}else{\n\t\t\t\t\talert(\"Unable to take: \" + jqXHR.responseJSON);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tputStudent: function(event){\n\t\t\tvar gid = event.currentTarget.dataset.id;\n\t\t\t$.ajax({\n\t\t\t  method: \"POST\",\n\t\t\t  url: '/groupsession/put',\n\t\t\t\tdata: {gid: gid},\n\t\t\t})\n\t\t\t.success(function( message ) {\n\t\t\t\tsite.displayMessage(message, \"success\");\n\t\t\t}).fail(function( jqXHR, message ){\n\t\t\t\tif (jqXHR.status == 422)\n\t\t\t\t{\n\t\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t\t}else{\n\t\t\t\t\talert(\"Unable to put: \" + jqXHR.responseJSON);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdoneStudent: function(event){\n\t\t\tvar gid = event.currentTarget.dataset.id;\n\t\t\t$.ajax({\n\t\t\t  method: \"POST\",\n\t\t\t  url: '/groupsession/done',\n\t\t\t\tdata: {gid: gid},\n\t\t\t})\n\t\t\t.success(function( message ) {\n\t\t\t\tsite.displayMessage(message, \"success\");\n\t\t\t}).fail(function( jqXHR, message ){\n\t\t\t\tif (jqXHR.status == 422)\n\t\t\t\t{\n\t\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t\t}else{\n\t\t\t\t\talert(\"Unable to mark done: \" + jqXHR.responseJSON);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdelStudent: function(event){\n\t\t\tvar gid = event.currentTarget.dataset.id;\n\t\t\t$.ajax({\n\t\t\t  method: \"POST\",\n\t\t\t  url: '/groupsession/delete',\n\t\t\t\tdata: {gid: gid},\n\t\t\t})\n\t\t\t.success(function( message ) {\n\t\t\t\tsite.displayMessage(message, \"success\");\n\t\t\t}).fail(function( jqXHR, message ){\n\t\t\t\tif (jqXHR.status == 422)\n\t\t\t\t{\n\t\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t\t}else{\n\t\t\t\t\talert(\"Unable to delete: \" + jqXHR.responseJSON);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trender: function(){\n\t\t\tvar badgeTitle = getStatus(this.props.student);\n\t\t\tif(isAdvisor === 1){\n\t\t\t\tif(this.props.student.status == 0 || this.props.student.status == 1){\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div className=\"alert alert-info groupsession-div\" role=\"alert\"><button className=\"btn btn-danger pull-right groupsession-button del-button\" data-id={this.props.student.id} onClick={this.delStudent}>X</button><button className=\"btn btn-success pull-right groupsession-button take-button\" data-id={this.props.student.id} onClick={this.takeStudent}>Take</button>{this.props.student.name} <span className=\"badge\">{badgeTitle}</span></div>\n\t\t\t\t\t);\n\t\t\t\t}else if(this.props.student.status == 2){\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div className=\"alert alert-success groupsession-div\" role=\"alert\"><button className=\"btn btn-danger pull-right groupsession-button del-button\" data-id={this.props.student.id} onClick={this.delStudent}>X</button><button className=\"btn btn-primary pull-right groupsession-button done-button\" data-id={this.props.student.id} onClick={this.doneStudent}>Done</button><button className=\"btn btn-info pull-right groupsession-button put-button\" data-id={this.props.student.id} onClick={this.putStudent}>Requeue</button>{this.props.student.name} <span className=\"badge\">{badgeTitle}</span></div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.props.student.status == 0 || this.props.student.status == 1){\n\t\t\t\t\tvar myClass = \"alert alert-info groupsession-div\";\n\t\t\t\t}else if (this.props.student.status == 2){\n\t\t\t\t\tvar myClass = \"alert alert-success groupsession-div\";\n\t\t\t\t}\n\t\t\t\tif (userID === this.props.student.userid){\n\t\t\t\t\tvar name = <b>{this.props.student.name}</b>;\n\t\t\t\t\tmyClass = myClass + \" groupsession-me\";\n\t\t\t\t}else{\n\t\t\t\t\tvar name = this.props.student.name;\n\t\t\t\t}\n\t\t\t\treturn(\n\t\t\t\t\t<div className={myClass} role=\"alert\">{name} <span className=\"badge\">{badgeTitle}</span></div>\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n\n\tvar GroupList = React.createClass({\n\t\tgetInitialState: function(){\n\t\t\treturn {queue: []};\n\t\t},\n\t\tcomponentDidMount: function(){\n\t\t\tvar self = this;\n\t\t\tgroupSessionChannel.bind( \"App\\\\Events\\\\GroupsessionRegister\", function(data){\n\t\t\t\tvar queue = self.state.queue;\n\t\t\t\tvar found = false;\n\t\t\t\tvar len = queue.length;\n\t\t\t\tfor(var i = 0; i < len; i++){\n\t\t\t\t\tif(queue[i].id === data.id){\n\t\t\t\t\t\tif(data.status < 3){\n\t\t\t\t\t\t\tqueue[i] = data;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tqueue.splice(i, 1);\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\tlen--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!found){\n\t\t\t\t\tqueue.push(data);\n\t\t\t\t}\n\t\t\t\tcheckButtons(queue);\n\t\t\t\tcheckDing(data);\n\t\t\t\tself.setState({queue: queue});\n\t\t\t});\n\t\t\t$.ajax({\n\t\t\t  method: \"GET\",\n\t\t\t  url: '/groupsession/queue',\n\t\t\t})\n\t\t\t.success(function( message ) {\n\t\t\t\tvar queue = self.state.queue.concat(JSON.parse(message));\n\t\t\t\tcheckButtons(queue);\n\t\t\t\tinitialCheckDing(queue);\n\t\t\t\tself.setState({queue: queue});\n\t\t\t}).fail(function( jqXHR, message ){\n\t\t\t\tif (jqXHR.status == 422)\n\t\t\t\t{\n\t\t\t\t\tsite.setFormErrors(jqXHR.responseJSON);\n\t\t\t\t}else{\n\t\t\t\t\talert(\"Unable to get queue: \" + jqXHR.responseJSON);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trender: function(){\n\t\t\tvar divs = [];\n\t\t\tthis.state.queue.forEach(function(student){\n\t\t\t\tdivs.push(<StudentRow key={student.id} student={student} />);\n\t\t\t});\n\t\t\treturn (\n\t\t\t\t<div>{divs}</div>\n\t\t\t);\n\t\t}\n\t});\n\n\treactDOM.render(\n\t\t<GroupList />,\n\t\tdocument.getElementById('groupList')\n\t);\n\n\n\n});\n"],"sourceRoot":"/source/"}