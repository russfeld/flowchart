webpackJsonp([1],{"+AmX":function(e,t,n){(function(e){var a=n("fwJW");n("Dehm"),n("FNwM"),n("kJJ0"),n("hZer"),t.dataTableOptions={pageLength:50,lengthChange:!1},t.init=function(n){n||(n=t.dataTableOptions),e("#table").DataTable(n),a.checkMessage()},t.ajaxsave=function(n,i,o,r){r||(r=!1),e("#spin").removeClass("hide-spin"),window.axios.post(i,n).then(function(n){a.clearFormErrors(),e("#spin").addClass("hide-spin"),0==o.length?e(location).attr("href",n.data):(a.displayMessage(n.data,"success"),r&&t.loadpicture(o))}).catch(function(e){a.handleError("save","#",e)})},t.loadpicture=function(t){window.axios.get("/profile/pic/"+t).then(function(t){e("#pictext").val(t.data),e("#picimg").attr("src",t.data)}).catch(function(e){a.handleError("retrieve picture","",e)})},t.ajaxdelete=function(t,n,i){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])var o=confirm("Are you sure?");else o=confirm("Are you sure? This will permanently remove all related records. You cannot undo this action.");!0===o&&(e("#spin").removeClass("hide-spin"),window.axios.post(n,t).then(function(t){e(location).attr("href",i)}).catch(function(e){a.handleError("delete","#",e)}))},t.ajaxrestore=function(t,n,i){if(!0===confirm("Are you sure?")){e("#spin").removeClass("hide-spin");t={id:e("#id").val()};window.axios.post(n,t).then(function(t){e(location).attr("href",i)}).catch(function(e){a.handleError("restore","#",e)})}},t.ajaxautocomplete=function(t,n){e("#"+t+"auto").autocomplete({serviceUrl:n,ajaxSettings:{dataType:"json"},minChars:3,onSelect:function(n){e("#"+t).val(n.data),e("#"+t+"text").html("Selected: ("+n.data+") "+n.value)},transformResult:function(t){return{suggestions:e.map(t.data,function(e){return{value:e.value,data:e.data}})}}})}}).call(t,n("7t+N"))},"/JLR":function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newcompletedcourse">New Completed Course</a>'),e("#save").on("click",function(){var t={coursenumber:e("#coursenumber").val(),name:e("#name").val(),year:e("#year").val(),semester:e("#semester").val(),basis:e("#basis").val(),grade:e("#grade").val(),credits:e("#credits").val(),degreeprogram_id:e("#degreeprogram_id").val(),student_id:e("#student_id").val()};e("#student_id").val()>0&&(t.student_id=e("#student_id").val()),e("#course_id").val()>0&&(t.course_id=e("#course_id").val());var n=e("#id").val();if(0==n.length)var i="/admin/newcompletedcourse";else i="/admin/completedcourses/"+n;a.ajaxsave(t,i,n)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletecompletedcourse","/admin/completedcourses")}),a.ajaxautocomplete("student_id","/profile/studentfeed"),a.ajaxautocomplete("course_id","/courses/coursefeed")}}).call(t,n("7t+N"))},0:function(e,t,n){n("sV/x"),e.exports=n("xZZD")},"1vYi":function(e,t,n){(function(e){var a=n("fwJW");t.init=function(){e("#saveProfile").on("click",function(){e("#profilespin").removeClass("hide-spin");var t={first_name:e("#first_name").val(),last_name:e("#last_name").val()};window.axios.post("/profile/update",t).then(function(t){a.displayMessage(t.data,"success"),a.clearFormErrors(),e("#profilespin").addClass("hide-spin"),e("#profileAdvisingBtn").removeClass("hide-spin")}).catch(function(e){a.handleError("save profile","#profile",e)})}),e("#saveAdvisorProfile").on("click",function(){e("#profilespin").removeClass("hide-spin");var t=new FormData(e("form")[0]);t.append("name",e("#name").val()),t.append("email",e("#email").val()),t.append("office",e("#office").val()),t.append("phone",e("#phone").val()),t.append("notes",e("#notes").val()),e("#pic").val()&&t.append("pic",e("#pic")[0].files[0]);window.axios.post("/profile/update",t).then(function(t){a.displayMessage(t.data,"success"),a.clearFormErrors(),e("#profilespin").addClass("hide-spin"),e("#profileAdvisingBtn").removeClass("hide-spin"),window.axios.get("/profile/pic").then(function(t){e("#pictext").val(t.data),e("#picimg").attr("src",t.data)}).catch(function(e){a.handleError("retrieve picture","",e)})}).catch(function(e){a.handleError("save profile","#profile",e)})}),e(document).on("change",".btn-file :file",function(){var t=e(this),n=t.get(0).files?t.get(0).files.length:1,a=t.val().replace(/\\/g,"/").replace(/.*\//,"");t.trigger("fileselect",[n,a])}),e(".btn-file :file").on("fileselect",function(t,n,a){var i=e(this).parents(".input-group").find(":text"),o=n>1?n+" files selected":a;i.length?i.val(o):o&&alert(o)})}}).call(t,n("7t+N"))},"8jqS":function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newadvisor">New Advisor</a>'),e("#save").on("click",function(){var t=new FormData(e("form")[0]);t.append("name",e("#name").val()),t.append("email",e("#email").val()),t.append("office",e("#office").val()),t.append("phone",e("#phone").val()),t.append("notes",e("#notes").val()),e("#pic").val()&&t.append("pic",e("#pic")[0].files[0]),e("#department_id").val()>0&&t.append("department_id",e("#department_id").val());var n=e("#id").val();if(0==n.length){t.append("eid",e("#eid").val());var i="/admin/newadvisor"}else{t.append("eid",e("#eid").val());i="/admin/advisors/"+n}a.ajaxsave(t,i,n,!0)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deleteadvisor","/admin/advisors",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeleteadvisor","/admin/advisors")}),e("#restore").on("click",function(){var t={id:e("#id").val()};a.ajaxrestore(t,"/admin/restoreadvisor","/admin/advisors")}),e(document).on("change",".btn-file :file",function(){var t=e(this),n=t.get(0).files?t.get(0).files.length:1,a=t.val().replace(/\\/g,"/").replace(/.*\//,"");t.trigger("fileselect",[n,a])}),e(".btn-file :file").on("fileselect",function(t,n,a){var i=e(this).parents(".input-group").find(":text"),o=n>1?n+" files selected":a;i.length?i.val(o):o&&alert(o)})}}).call(t,n("7t+N"))},"9Ofh":function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newdepartment">New Department</a>'),e("#save").on("click",function(){var t={name:e("#name").val(),email:e("#email").val(),office:e("#office").val(),phone:e("#phone").val()},n=e("#id").val();if(0==n.length)var i="/admin/newdepartment";else i="/admin/departments/"+n;a.ajaxsave(t,i,n)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletedepartment","/admin/departments",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeletedepartment","/admin/departments")}),e("#restore").on("click",function(){var t={id:e("#id").val()};a.ajaxrestore(t,"/admin/restoredepartment","/admin/departments")})}}).call(t,n("7t+N"))},AmgQ:function(e,t,n){(function(e){window.Vue=n("I3G/");var a=n("fwJW"),i=n("iuzX");n("gXvN"),window.Pusher=n("jIVf"),t.init=function(){ion.sound({sounds:[{name:"door_bell"}],volume:1,path:"/sounds/",preload:!0}),window.userID=parseInt(e("#userID").val()),e("#groupRegisterBtn").on("click",o),e("#groupDisableBtn").on("click",r),window.vm=new Vue({el:"#groupList",data:{queue:[],advisor:1==parseInt(e("#isAdvisor").val()),userID:parseInt(e("#userID").val()),online:[]},methods:{getClass:function(t){return{"alert-info":0==t.status||1==t.status,"alert-success":2==t.status,"groupsession-me":t.userid==this.userID,"groupsession-offline":-1==e.inArray(t.userid,this.online)}},takeStudent:function(e){var t={gid:e.currentTarget.dataset.id};f("/groupsession/take",t,"take")},putStudent:function(e){var t={gid:e.currentTarget.dataset.id};f("/groupsession/put",t,"put")},doneStudent:function(e){var t={gid:e.currentTarget.dataset.id};f("/groupsession/done",t,"mark done")},delStudent:function(e){var t={gid:e.currentTarget.dataset.id};f("/groupsession/delete",t,"delete")}}}),"local"!=window.env&&"staging"!=window.env||(console.log("Pusher logging enabled!"),Pusher.logToConsole=!0),window.Echo=new i({broadcaster:"pusher",key:window.pusherKey,cluster:window.pusherCluster}),window.Echo.connector.pusher.connection.bind("connected",function(){e("#groupspin").addClass("hide-spin"),window.axios.get("/groupsession/queue").then(function(e){window.vm.queue=window.vm.queue.concat(e.data),s(window.vm.queue),c(window.vm.queue),window.vm.queue.sort(u)}).catch(function(e){a.handleError("get queue","",e)})}),window.Echo.channel("groupsessionend").listen("GroupsessionEnd",function(e){window.location.href="/groupsession"}),window.Echo.join("presence").here(function(e){for(var t=e.length,n=0;n<t;n++)window.vm.online.push(e[n].id)}).joining(function(e){window.vm.online.push(e.id)}).leaving(function(t){window.vm.online.splice(e.inArray(t.id,window.vm.online),1)}).listen("GroupsessionRegister",function(e){for(var t=window.vm.queue,n=!1,a=t.length,i=0;i<a;i++)t[i].id===e.id&&(e.status<3?t[i]=e:(t.splice(i,1),i--,a--),n=!0);n||t.push(e),s(t),e.userid===userID&&l(e),t.sort(u),window.vm.queue=t})},Vue.filter("statustext",function(e){return 0===e.status?"NEW":1===e.status?"QUEUED":2===e.status?"MEET WITH "+e.advisor:3===e.status?"DELAY":4===e.status?"ABSENT":5===e.status?"DONE":void 0});var o=function(){e("#groupspin").removeClass("hide-spin");window.axios.post("/groupsession/register",{}).then(function(t){a.displayMessage(t.data,"success"),d(),e("#groupspin").addClass("hide-spin")}).catch(function(e){a.handleError("register","#group",e)})},r=function(){if(!0===confirm("Are you sure?")&&!0===confirm("Seriously, this will lose all current data. Are you really sure?")){var t=e('meta[name="csrf-token"]').attr("content");e('<form action="/groupsession/disable" method="POST"/>').append(e('<input type="hidden" name="id" value="'+window.userID+'">')).append(e('<input type="hidden" name="_token" value="'+t+'">')).appendTo(e(document.body)).submit()}},d=function(){e("#groupRegisterBtn").attr("disabled","disabled")},s=function(t){for(var n=t.length,a=!1,i=0;i<n;i++)if(t[i].userid===window.userID){a=!0;break}a?d():e("#groupRegisterBtn").removeAttr("disabled")},l=function(e){2==e.status&&ion.sound.play("door_bell")},c=function(e){for(var t=e.length,n=0;n<t;n++)if(e[n].userid===window.userID){l(e[n]);break}},u=function(e,t){return e.status==t.status?e.id<t.id?-1:1:e.status<t.status?1:-1},f=function(e,t,n){window.axios.post(e,t).then(function(e){a.displayMessage(e.data,"success")}).catch(function(e){a.handleError(n,"",e)})}}).call(t,n("7t+N"))},Mlse:function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newplan">New Plan</a>'),e("#save").on("click",function(){var t={name:e("#name").val(),description:e("#description").val(),start_year:e("#start_year").val(),start_semester:e("#start_semester").val(),degreeprogram_id:e("#degreeprogram_id").val(),student_id:e("#student_id").val()},n=e("#id").val();if(0==n.length)var i="/admin/newplan";else i="/admin/plans/"+n;a.ajaxsave(t,i,n)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deleteplan","/admin/plans",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeleteplan","/admin/plans")}),e("#restore").on("click",function(){var t={id:e("#id").val()};a.ajaxrestore(t,"/admin/restoreplan","/admin/plans")}),a.ajaxautocomplete("student_id","/profile/studentfeed")}}).call(t,n("7t+N"))},PZ2C:function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletegroupsession","/admin/groupsessions")})}}).call(t,n("7t+N"))},RZFQ:function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newdegreeprogram">New Degree Program</a>'),e("#save").on("click",function(){var t={name:e("#name").val(),abbreviation:e("#abbreviation").val(),description:e("#description").val(),effective_year:e("#effective_year").val(),effective_semester:e("#effective_semester").val()};e("#department_id").val()>0&&(t.department_id=e("#department_id").val());var n=e("#id").val();if(0==n.length)var i="/admin/newdegreeprogram";else i="/admin/degreeprograms/"+n;a.ajaxsave(t,i,n)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletedegreeprogram","/admin/degreeprograms",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeletedegreeprogram","/admin/degreeprograms")}),e("#restore").on("click",function(){var t={id:e("#id").val()};a.ajaxrestore(t,"/admin/restoredegreeprogram","/admin/degreeprograms")})}}).call(t,n("7t+N"))},V21x:function(e,t,n){(function(e){t.init=function(){n("8U58"),n("ezqs"),n("0MVf"),site=n("fwJW"),site.checkMessage(),e(".editable-link").each(function(){e(this).click(function(t){t.stopPropagation(),t.preventDefault();var n=e(this).data("id");e("#editablebutton-"+n).addClass("hidden"),e("#editablesave-"+n).removeClass("hidden"),e("#editable-"+n).summernote({focus:!0,toolbar:[["style",["style","bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript","link"]],["para",["ul","ol","paragraph"]],["misc",["fullscreen","codeview","help"]]],tabsize:2,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0,theme:"monokai"}})})}),e(".editable-save").each(function(){e(this).click(function(t){t.stopPropagation(),t.preventDefault();var n=e(this).data("id");e("#editablespin-"+n).removeClass("hide-spin");var a=e("#editable-"+n).summernote("code");window.axios.post("/editable/save/"+n,{contents:a}).then(function(e){location.reload(!0)}).catch(function(e){alert("Unable to save content: "+e.response.data)})})}),e(".editable-cancel").each(function(){e(this).click(function(t){t.stopPropagation(),t.preventDefault();var n=e(this).data("id");e("#editable-"+n).summernote("reset"),e("#editable-"+n).summernote("destroy"),e("#editablebutton-"+n).removeClass("hidden"),e("#editablesave-"+n).addClass("hidden")})})}}).call(t,n("7t+N"))},V4wW:function(e,t,n){(function(e){n("olwm"),n("hZer");var a=n("PJh5"),i=n("fwJW");n("N2av"),t.calendarSession={},t.calendarAdvisorID=-1,t.calendarStudentName="",t.calendarData={header:{left:"prev,next today",center:"title",right:"agendaWeek,agendaDay"},editable:!1,eventLimit:!0,height:"auto",weekends:!1,businessHours:{start:"8:00",end:"17:00",dow:[1,2,3,4,5]},defaultView:"agendaWeek",views:{agenda:{allDaySlot:!1,slotDuration:"00:20:00",minTime:"08:00:00",maxTime:"17:00:00"}},eventSources:[{url:"/advising/meetingfeed",type:"GET",error:function(){alert("Error fetching meeting events from database")},color:"#512888",textColor:"white"},{url:"/advising/blackoutfeed",type:"GET",error:function(){alert("Error fetching blackout events from database")},color:"#FF8888",textColor:"black"}],selectable:!0,selectHelper:!0,selectOverlap:function(e){return"background"===e.rendering},timeFormat:" "},t.datePickerData={daysOfWeekDisabled:[0,6],format:"LLL",stepping:20,enabledHours:[8,9,10,11,12,13,14,15,16,17],maxHour:17,sideBySide:!0,ignoreReadonly:!0,allowInputToggle:!0},t.datePickerDateOnly={daysOfWeekDisabled:[0,6],format:"MM/DD/YYYY",ignoreReadonly:!0,allowInputToggle:!0},t.init=function(){i.checkMessage(),window.advisor||(window.advisor=!1),window.nobind||(window.nobind=!1),t.calendarAdvisorID=e("#calendarAdvisorID").val().trim(),t.calendarData.eventSources[0].data={id:t.calendarAdvisorID},t.calendarData.eventSources[1].data={id:t.calendarAdvisorID},e(window).width()<600&&(t.calendarData.defaultView="agendaDay"),window.nobind?(t.calendarData.eventSources[1].rendering="background",t.calendarData.selectable=!1,t.calendarData.eventRender=function(e,t){"b"==e.type&&t.append('<div style="color: #000000; z-index: 5;">'+e.title+"</div>"),"s"==e.type&&t.addClass("fc-green")}):(window.advisor?(e("#createEvent").on("shown.bs.modal",function(){e("#title").focus()}),e("#title").prop("disabled",!1),e("#start").prop("disabled",!1),e("#studentid").prop("disabled",!1),e("#start_span").removeClass("datepicker-disabled"),e("#end").prop("disabled",!1),e("#end_span").removeClass("datepicker-disabled"),e("#studentiddiv").show(),e("#statusdiv").show(),e("#createEvent").on("hidden.bs.modal",f),e("#newStudentButton").bind("click",M),e("#createBlackout").on("shown.bs.modal",function(){e("#btitle").focus()}),e("#createBlackout").on("hidden.bs.modal",function(){e("#repeatdailydiv").hide(),e("#repeatweeklydiv").hide(),e("#repeatuntildiv").hide(),e(this).find("form")[0].reset(),e(this).find(".has-error").each(function(){e(this).removeClass("has-error")}),e(this).find(".help-block").each(function(){e(this).text("")})}),e("#createEvent").on("hidden.bs.modal",g),e("#resolveConflict").on("hidden.bs.modal",g),e("#resolveConflict").on("hidden.bs.modal",function(){e("#calendar").fullCalendar("refetchEvents")}),e("#studentid").autocomplete({serviceUrl:"/profile/studentfeed",ajaxSettings:{dataType:"json"},onSelect:function(t){e("#studentidval").val(t.data)},transformResult:function(t){return{suggestions:e.map(t.data,function(e){return{value:e.value,data:e.data}})}}}),e("#start_datepicker").datetimepicker(t.datePickerData),e("#end_datepicker").datetimepicker(t.datePickerData),v("#start","#end","#duration"),e("#bstart_datepicker").datetimepicker(t.datePickerData),e("#bend_datepicker").datetimepicker(t.datePickerData),v("#bstart","#bend","#bduration"),e("#brepeatuntil_datepicker").datetimepicker(t.datePickerDateOnly),t.calendarData.eventRender=function(e,t){t.addClass("fc-clickable")},t.calendarData.eventClick=function(n,a,i){"m"==n.type?(e("#studentid").val(n.studentname),e("#studentidval").val(n.student_id),c(n)):"b"==n.type&&(t.calendarSession={event:n},"0"==n.repeat?S():e("#blackoutOption").modal("show"))},t.calendarData.select=function(n,a){t.calendarSession={start:n,end:a},e("#bblackoutid").val(-1),e("#bblackouteventid").val(-1),e("#meetingID").val(-1),e("#meetingOption").modal("show")},e("#brepeat").change(k),e("#saveBlackoutButton").bind("click",b),e("#deleteBlackoutButton").bind("click",w),e("#blackoutSeries").bind("click",function(){e("#blackoutOption").modal("hide"),S()}),e("#blackoutOccurrence").bind("click",function(){e("#blackoutOption").modal("hide"),_()}),e("#advisingButton").bind("click",function(){e("#meetingOption").off("hidden.bs.modal"),e("#meetingOption").on("hidden.bs.modal",function(e){u()}),e("#meetingOption").modal("hide")}),e("#createMeetingBtn").bind("click",function(){t.calendarSession={},u()}),e("#blackoutButton").bind("click",function(){e("#meetingOption").off("hidden.bs.modal"),e("#meetingOption").on("hidden.bs.modal",function(e){L()}),e("#meetingOption").modal("hide")}),e("#createBlackoutBtn").bind("click",function(){t.calendarSession={},L()}),e("#resolveButton").on("click",x),g()):(t.calendarStudentName=e("#calendarStudentName").val().trim(),t.calendarData.eventSources[1].rendering="background",t.calendarData.eventRender=function(e,t){"b"==e.type&&t.append('<div style="color: #000000; z-index: 5;">'+e.title+"</div>"),"s"==e.type&&t.addClass("fc-green")},t.calendarData.eventClick=function(e,t,n){"s"==e.type&&(e.start.isAfter(a())?c(e):alert("You cannot edit meetings in the past"))},t.calendarData.select=h,e("#createEvent").on("shown.bs.modal",function(){e("#desc").focus()}),e("#title").prop("disabled",!0),e("#start").prop("disabled",!0),e("#studentid").prop("disabled",!0),e("#start_span").addClass("datepicker-disabled"),e("#end").prop("disabled",!0),e("#end_span").addClass("datepicker-disabled"),e("#studentiddiv").hide(),e("#statusdiv").hide(),e("#studentidval").val(-1),e(".modal").on("hidden.bs.modal",f)),e("#saveButton").bind("click",s),e("#deleteButton").bind("click",l),e("#duration").on("change",m)),e("#calendar").fullCalendar(t.calendarData)};var o=function(t,n){e(t).modal("hide"),i.displayMessage(n.data,"success"),e("#calendar").fullCalendar("unselect"),e("#calendar").fullCalendar("refetchEvents"),e(t+"spin").addClass("hide-spin"),window.advisor&&g()},r=function(e,t,n,a){window.axios.post(e,t).then(function(e){o(n,e)}).catch(function(e){i.handleError(a,n,e)})},d=function(t,n,a,r,d,s){if(d||(d=!1),s||(s=!1),s)l=!0;else var l=confirm("Are you sure?");!0===l&&(e(a+"spin").removeClass("hide-spin"),window.axios.post(t,n).then(function(t){d?(e(a+"spin").addClass("hide-spin"),e(a).addClass("hidden")):o(a,t)}).catch(function(e){i.handleError(r,a,e)}))},s=function(){e("#createEventspin").removeClass("hide-spin");var n={start:a(e("#start").val(),"LLL").format(),end:a(e("#end").val(),"LLL").format(),title:e("#title").val(),desc:e("#desc").val(),status:e("#status").val()};n.id=t.calendarAdvisorID,e("#meetingID").val()>0&&(n.meetingid=e("#meetingID").val()),e("#studentidval").val()>0&&(n.studentid=e("#studentidval").val());r("/advising/createmeeting",n,"#createEvent","save meeting")},l=function(){var t={meetingid:e("#meetingID").val()};d("/advising/deletemeeting",t,"#createEvent","delete meeting",!1)},c=function(t){e("#title").val(t.title),e("#start").val(t.start.format("LLL")),e("#end").val(t.end.format("LLL")),e("#desc").val(t.desc),p(t.start,t.end),e("#meetingID").val(t.id),e("#studentidval").val(t.student_id),e("#status").val(t.status),e("#deleteButton").show(),e("#createEvent").modal("show")},u=function(n){void 0!==n?e("#title").val(n):e("#title").val(""),void 0===t.calendarSession.start?e("#start").val(a().hour(8).minute(0).format("LLL")):e("#start").val(t.calendarSession.start.format("LLL")),void 0===t.calendarSession.end?e("#end").val(a().hour(8).minute(20).format("LLL")):e("#end").val(t.calendarSession.end.format("LLL")),void 0===t.calendarSession.start?p(a().hour(8).minute(0),a().hour(8).minute(20)):p(t.calendarSession.start,t.calendarSession.end),e("#meetingID").val(-1),e("#studentidval").val(-1),e("#deleteButton").hide(),e("#createEvent").modal("show")},f=function(){e(this).find("form")[0].reset(),i.clearFormErrors()},p=function(t,n){e("#duration").empty(),e("#duration").append("<option value='20'>20 minutes</option>"),(t.hour()<16||16==t.hour()&&t.minutes()<=20)&&e("#duration").append("<option value='40'>40 minutes</option>"),(t.hour()<16||16==t.hour()&&t.minutes()<=0)&&e("#duration").append("<option value='60'>60 minutes</option>"),e("#duration").val(n.diff(t,"minutes"))},v=function(t,n,i){e(t+"_datepicker").on("dp.change",function(t){var i=a(e(n).val(),"LLL");(t.date.isAfter(i)||t.date.isSame(i))&&(i=t.date.clone(),e(n).val(i.format("LLL")))}),e(n+"_datepicker").on("dp.change",function(n){var i=a(e(t).val(),"LLL");(n.date.isBefore(i)||n.date.isSame(i))&&(i=n.date.clone(),e(t).val(i.format("LLL")))})},m=function(){var t=a(e("#start").val(),"LLL").add(e(this).val(),"minutes");e("#end").val(t.format("LLL"))},h=function(n,a){a.diff(n,"minutes")>60?(alert("Meetings cannot last longer than 1 hour"),e("#calendar").fullCalendar("unselect")):(t.calendarSession={start:n,end:a},e("#meetingID").val(-1),u(t.calendarStudentName))},g=function(){window.axios.get("/advising/conflicts").then(function(t){e(document).off("click",".deleteConflict",y),e(document).off("click",".editConflict",C),e(document).off("click",".resolveConflict",D),200==t.status?(e("#resolveConflictMeetings").empty(),e.each(t.data,function(t,n){e("<div/>",{id:"resolve"+n.id,class:"meeting-conflict",html:'<p>&nbsp;<button type="button" class="btn btn-danger pull-right deleteConflict" data-id='+n.id+'>Delete</button>&nbsp;<button type="button" class="btn btn-primary pull-right editConflict" data-id='+n.id+'>Edit</button> <button type="button" class="btn btn-success pull-right resolveConflict" data-id='+n.id+'>Keep Meeting</button><span id="resolve'+n.id+'spin" class="fa fa-cog fa-spin fa-lg pull-right hide-spin">&nbsp;</span><b>'+n.title+"</b> ("+n.start+")</p><hr>"}).appendTo("#resolveConflictMeetings")}),e(document).on("click",".deleteConflict",y),e(document).on("click",".editConflict",C),e(document).on("click",".resolveConflict",D),e("#conflictingMeetings").removeClass("hidden")):204==t.status&&e("#conflictingMeetings").addClass("hidden")}).catch(function(e){alert("Unable to retrieve conflicting meetings: "+e.response.data)})},b=function(){e("#createBlackoutspin").removeClass("hide-spin");var t,n={bstart:a(e("#bstart").val(),"LLL").format(),bend:a(e("#bend").val(),"LLL").format(),btitle:e("#btitle").val()};e("#bblackouteventid").val()>0?(t="/advising/createblackoutevent",n.bblackouteventid=e("#bblackouteventid").val()):(t="/advising/createblackout",e("#bblackoutid").val()>0&&(n.bblackoutid=e("#bblackoutid").val()),n.brepeat=e("#brepeat").val(),1==e("#brepeat").val()&&(n.brepeatevery=e("#brepeatdaily").val(),n.brepeatuntil=a(e("#brepeatuntil").val(),"MM/DD/YYYY").format()),2==e("#brepeat").val()&&(n.brepeatevery=e("#brepeatweekly").val(),n.brepeatweekdaysm=e("#brepeatweekdays1").prop("checked"),n.brepeatweekdayst=e("#brepeatweekdays2").prop("checked"),n.brepeatweekdaysw=e("#brepeatweekdays3").prop("checked"),n.brepeatweekdaysu=e("#brepeatweekdays4").prop("checked"),n.brepeatweekdaysf=e("#brepeatweekdays5").prop("checked"),n.brepeatuntil=a(e("#brepeatuntil").val(),"MM/DD/YYYY").format())),r(t,n,"#createBlackout","save blackout")},w=function(){var t,n;e("#bblackouteventid").val()>0?(t="/advising/deleteblackoutevent",n={bblackouteventid:e("#bblackouteventid").val()}):(t="/advising/deleteblackout",n={bblackoutid:e("#bblackoutid").val()}),d(t,n,"#createBlackout","delete blackout",!1)},k=function(){0==e(this).val()?(e("#repeatdailydiv").hide(),e("#repeatweeklydiv").hide(),e("#repeatuntildiv").hide()):1==e(this).val()?(e("#repeatdailydiv").show(),e("#repeatweeklydiv").hide(),e("#repeatuntildiv").show()):2==e(this).val()&&(e("#repeatdailydiv").hide(),e("#repeatweeklydiv").show(),e("#repeatuntildiv").show())},x=function(){e("#resolveConflict").modal("show")},y=function(){var t=e(this).data("id");d("/advising/deletemeeting",{meetingid:t},"#resolve"+t,"delete meeting",!0)},C=function(){var t=e(this).data("id"),n={meetingid:t};e("#resolve"+t+"spin").removeClass("hide-spin"),window.axios.get("/advising/meeting",{params:n}).then(function(n){e("#resolve"+t+"spin").addClass("hide-spin"),e("#resolveConflict").modal("hide"),event=n.data,event.start=a(event.start),event.end=a(event.end),c(event)}).catch(function(e){i.handleError("retrieve meeting","#resolve"+t,e)})},D=function(){var t=e(this).data("id");d("/advising/resolveconflict",{meetingid:t},"#resolve"+t,"resolve meeting",!0,!0)},L=function(){e("#btitle").val(""),void 0===t.calendarSession.start?e("#bstart").val(a().hour(8).minute(0).format("LLL")):e("#bstart").val(t.calendarSession.start.format("LLL")),void 0===t.calendarSession.end?e("#bend").val(a().hour(9).minute(0).format("LLL")):e("#bend").val(t.calendarSession.end.format("LLL")),e("#bblackoutid").val(-1),e("#repeatdiv").show(),e("#brepeat").val(0),e("#brepeat").trigger("change"),e("#deleteBlackoutButton").hide(),e("#createBlackout").modal("show")},_=function(){e("#blackoutOption").modal("hide"),e("#btitle").val(t.calendarSession.event.title),e("#bstart").val(t.calendarSession.event.start.format("LLL")),e("#bend").val(t.calendarSession.event.end.format("LLL")),e("#repeatdiv").hide(),e("#repeatdailydiv").hide(),e("#repeatweeklydiv").hide(),e("#repeatuntildiv").hide(),e("#bblackoutid").val(t.calendarSession.event.blackout_id),e("#bblackouteventid").val(t.calendarSession.event.id),e("#deleteBlackoutButton").show(),e("#createBlackout").modal("show")},S=function(){e("#blackoutOption").modal("hide");var n={id:t.calendarSession.event.blackout_id};window.axios.get("/advising/blackout",{params:n}).then(function(t){if(e("#btitle").val(t.data.title),e("#bstart").val(a(t.data.start,"YYYY-MM-DD HH:mm:ss").format("LLL")),e("#bend").val(a(t.data.end,"YYYY-MM-DD HH:mm:ss").format("LLL")),e("#bblackoutid").val(t.data.id),e("#bblackouteventid").val(-1),e("#repeatdiv").show(),e("#brepeat").val(t.data.repeat_type),e("#brepeat").trigger("change"),1==t.data.repeat_type)e("#brepeatdaily").val(t.data.repeat_every),e("#brepeatuntil").val(a(t.data.repeat_until,"YYYY-MM-DD HH:mm:ss").format("MM/DD/YYYY"));else if(2==t.data.repeat_type){e("#brepeatweekly").val(t.data.repeat_every);var n=String(t.data.repeat_detail);e("#brepeatweekdays1").prop("checked",n.indexOf("1")>=0),e("#brepeatweekdays2").prop("checked",n.indexOf("2")>=0),e("#brepeatweekdays3").prop("checked",n.indexOf("3")>=0),e("#brepeatweekdays4").prop("checked",n.indexOf("4")>=0),e("#brepeatweekdays5").prop("checked",n.indexOf("5")>=0),e("#brepeatuntil").val(a(t.data.repeat_until,"YYYY-MM-DD HH:mm:ss").format("MM/DD/YYYY"))}e("#deleteBlackoutButton").show(),e("#createBlackout").modal("show")}).catch(function(e){i.handleError("retrieve blackout series","",e)})},M=function(){var e={eid:prompt("Enter the student's eID")};window.axios.post("/profile/newstudent",e).then(function(e){alert(e.data)}).catch(function(e){e.response&&(422==e.response.status?alert("Unable to create user: "+e.response.data.eid):alert("Unable to create user: "+e.response.data))})}}).call(t,n("7t+N"))},WRGp:function(e,t,n){(function(e){window._=n("M4fF"),window.$=n("7t+N"),n("gNGx"),window.axios=n("mtWM"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var t=document.head.querySelector('meta[name="csrf-token"]');t?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=t.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")}).call(t,n("7t+N"))},ezqs:function(e,t,n){(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(a,i){var o,r,d=a.indentUnit,s={},l=i.htmlMode?t:n;for(var c in l)s[c]=l[c];for(var c in i)s[c]=i[c];function u(e,t){function n(n){return t.tokenize=n,n(e,t)}var a=e.next();return"<"==a?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,a){for(var i;null!=(i=n.next());){if("<"==i)return a.tokenize=e(t+1),a.tokenize(n,a);if(">"==i){if(1==t){a.tokenize=u;break}return a.tokenize=e(t-1),a.tokenize(n,a)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=f,"tag bracket"):"&"==a?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function f(e,t){var n,a,i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=u,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){t.tokenize=u,t.state=h,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=(n=i,(a=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=f;break}return"string"}).isInAttribute=!0,a),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e,t){return function(n,a){for(;!n.eol();){if(n.match(t)){a.tokenize=u;break}n.next()}return e}}function v(e){e.context&&(e.context=e.context.prev)}function m(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(n)||!s.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),g):"closeTag"==e?b:h}function g(e,t,n){return"word"==e?(n.tagName=t.current(),r="tag",x):s.allowMissingTagName&&"endTag"==e?(r="tag bracket",x(e,t,n)):(r="error",g)}function b(e,t,n){if("word"==e){var a=t.current();return n.context&&n.context.tagName!=a&&s.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==a||!1===s.matchClosing?(r="tag",w):(r="tag error",k)}return s.allowMissingTagName&&"endTag"==e?(r="tag bracket",w(e,t,n)):(r="error",k)}function w(e,t,n){return"endTag"!=e?(r="error",w):(v(n),h)}function k(e,t,n){return r="error",w(e,0,n)}function x(e,t,n){if("word"==e)return r="attribute",y;if("endTag"==e||"selfcloseTag"==e){var a=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||s.autoSelfClosers.hasOwnProperty(a)?m(n,a):(m(n,a),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,a,i==n.indented)),h}return r="error",x}function y(e,t,n){return"equals"==e?C:(s.allowMissing||(r="error"),x(e,0,n))}function C(e,t,n){return"string"==e?D:"word"==e&&s.allowUnquoted?(r="string",x):(r="error",x(e,0,n))}function D(e,t,n){return"string"==e?D:x(e,0,n)}return u.isInText=!0,{startState:function(e){var t={tokenize:u,state:h,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(r=null,t.state=t.state(o||n,e,t),r&&(n="error"==r?n+" error":r)),n},indent:function(t,n,a){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+d;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=u)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==s.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+d*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!s.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var r=s.contextGrabbers[i.tagName];if(!r||!r.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+d:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:s.htmlMode?"html":"xml",helperType:s.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=x)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})(n("8U58"))},fwJW:function(e,t,n){(function(e){t.displayMessage=function(t,n){var a='<div id="javascriptMessage" class="alert fade in alert-dismissable alert-'+n+'"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><span class="h4">'+t+"</span></div>";e("#message").append(a),setTimeout(function(){e("#javascriptMessage").alert("close")},3e3)},t.clearFormErrors=function(){e(".form-group").each(function(){e(this).removeClass("has-error"),e(this).find(".help-block").text("")})},t.setFormErrors=function(n){t.clearFormErrors(),e.each(n,function(t,n){e("#"+t).parents(".form-group").addClass("has-error"),e("#"+t+"help").text(n.join(" "))})},t.checkMessage=function(){if(e("#message_flash").length){var n=e("#message_flash").val(),a=e("#message_type_flash").val();t.displayMessage(n,a)}},t.handleError=function(n,a,i){i.response&&(422==i.response.status?t.setFormErrors(i.response.data):alert("Unable to "+n+": "+i.response.data)),a.length>0&&e(a+"spin").addClass("hide-spin")}}).call(t,n("7t+N"))},"g/6J":function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("div.newbutton").html('<a type="button" class="btn btn-success" href="/admin/newstudent">New Student</a>'),e("#save").on("click",function(){var t={first_name:e("#first_name").val(),last_name:e("#last_name").val(),email:e("#email").val()};e("#advisor_id").val()>0&&(t.advisor_id=e("#advisor_id").val()),e("#department_id").val()>0&&(t.department_id=e("#department_id").val());var n=e("#id").val();if(t.eid=e("#eid").val(),0==n.length)var i="/admin/newstudent";else i="/admin/students/"+n;a.ajaxsave(t,i,n)}),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletestudent","/admin/students",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeletestudent","/admin/students")}),e("#restore").on("click",function(){var t={id:e("#id").val()};a.ajaxrestore(t,"/admin/restorestudent","/admin/students")})}}).call(t,n("7t+N"))},hMwE:function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deletemeeting","/admin/meetings",!0)}),e("#forcedelete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/forcedeletemeeting","/admin/meetings")})}}).call(t,n("7t+N"))},oxsA:function(e,t,n){(function(e){var a=n("+AmX");t.init=function(){var t=a.dataTableOptions;t.dom='<"newbutton">frtip',a.init(t),e("#delete").on("click",function(){var t={id:e("#id").val()};a.ajaxdelete(t,"/admin/deleteblackout","/admin/blackouts")})}}).call(t,n("7t+N"))},"sV/x":function(e,t,n){n("WRGp");var a={actions:{index:{index:function(){}},AdvisingController:{getIndex:function(){n("V4wW").init()}},GroupsessionController:{getIndex:function(){n("V21x").init()},getList:function(){n("AmgQ").init()}},ProfilesController:{getIndex:function(){n("1vYi").init()}},DashboardController:{getIndex:function(){n("+AmX").init()},getSettings:function(){n("umKL").init()},getStudents:function(){n("g/6J").init()},getNewstudent:function(){n("g/6J").init()},getAdvisors:function(){n("8jqS").init()},getNewadvisor:function(){n("8jqS").init()},getDepartments:function(){n("9Ofh").init()},getNewdepartment:function(){n("9Ofh").init()},getMeetings:function(){n("hMwE").init()},getBlackouts:function(){n("oxsA").init()},getGroupsessions:function(){n("PZ2C").init()},getDegreeprograms:function(){n("RZFQ").init()},getNewdegreeprogram:function(){n("RZFQ").init()},getPlans:function(){n("Mlse").init()},getNewplan:function(){n("Mlse").init()},getCompletedcourses:function(){n("/JLR").init()},getNewcompletedcourse:function(){n("/JLR").init()}}},init:function(e,t){if(void 0!==this.actions[e]&&void 0!==this.actions[e][t])return a.actions[e][t]()}};window.App=a},umKL:function(e,t,n){(function(e){var a=n("+AmX"),i=n("fwJW");t.init=function(){a.dataTableOptions.dom='<"newbutton">frtip',a.init(),e(".settingsbutton").on("click",function(){var t={key:e(this).attr("id")};window.axios.post("/admin/savesetting",t).then(function(t){e(location).attr("href","/admin/settings")}).catch(function(e){i.handleError("save","",e)})}),e("#newsetting").on("click",function(){var t={key:prompt("Enter a name for the new setting:")};window.axios.post("/admin/newsetting",t).then(function(t){e(location).attr("href","/admin/settings")}).catch(function(e){i.handleError("create","",e)})})}}).call(t,n("7t+N"))},xZZD:function(e,t){}},[0]);
//# sourceMappingURL=app.js.map