{"version":3,"sources":["settings.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dashboard_settings.js","sourcesContent":["require(['util/site', 'util/dashboard'], function(site, dashboard) {\n\n  site.ajaxcrsf();\n\n  var options = dashboard.dataTableOptions;\n  options.dom = '<\"newbutton\">frtip';\n  dashboard.init(options);\n  site.checkMessage();\n\n  //$(\"div.newbutton\").html('<a type=\"button\" class=\"btn btn-success\" href=\"/admin/newstudent\">New Student</a>');\n\n  $('.settingsbutton').on('click', function(){\n    var data = {\n      key: $(this).attr('id'),\n    };\n    var url = '/admin/savesetting';\n    $.ajax({\n      method: \"POST\",\n      url: url,\n      data: data\n    })\n    .success(function( message ) {\n      $(location).attr('href', '/admin/settings');\n    }).fail(function( jqXHR, message ){\n      alert(\"Unable to save: \" + jqXHR.responseJSON);\n    });\n  });\n\n  $('#newsetting').on('click', function(){\n    var choice = prompt(\"Enter a name for the new setting:\");\n    var data = {\n      key: choice,\n    };\n    var url = \"/admin/newsetting\"\n    $.ajax({\n      method: \"POST\",\n      url: url,\n      data: data\n    })\n    .success(function( message ) {\n      $(location).attr('href', '/admin/settings');\n    })\n    .fail(function( jqXHR, message ){\n      alert(\"Unable to create setting: \" + jqXHR.responseJSON);\n    });\n  });\n\n});\n"]}