{"version":3,"sources":["profiles.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profiles.js","sourcesContent":["$(document).ready(function() {\n\tajaxcrsf();\n\n\t$('#saveProfile').bind('click', saveProfile);\n});\n\nvar ajaxcrsf = function(){\n\t$.ajaxSetup({\n\t\theaders: {\n\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n\t\t}\n\t});\n};\n\nvar saveProfile = function(){\n\t$('#profileSpin').removeClass('hide-spin');\n\tvar data = { \n\t\tfirst_name: $('#first_name').val(),\n\t\tlast_name: $('#last_name').val(),\n\t};\n\t$.ajax({\n\t  method: \"POST\",\n\t  url: '/profile/update',\n\t  data: data\n\t})\n\t.success(function( message ) {\n\t\tdisplayMessage(message, \"success\");\n\t\t$('.form-group').each(function (){\n\t\t\t$(this).removeClass('has-error');\n\t\t\t$(this).find('.help-block').text('');\n\t\t});\n\t\t$('#profileSpin').addClass('hide-spin');\n\t}).fail(function( jqXHR, message ){\n\t\tif (jqXHR.status == 422)\n\t\t{\n\t\t\t$('.form-group').each(function (){\n\t\t\t\t$(this).removeClass('has-error');\n\t\t\t\t$(this).find('.help-block').text('');\n\t\t\t});\n\t\t\t$.each(jqXHR.responseJSON, function (key, value) {\n\t\t\t\t$('#' + key).parents('.form-group').addClass('has-error');\n\t\t\t\t$('#' + key + 'help').text(value);\n\t\t\t});\n\t\t}else{\n\t\t\talert(\"Unable to save profile: \" + jqXHR.responseJSON);\n\t\t}\n\t\t$('#profileSpin').addClass('hide-spin');\n\t});\n};\n\nvar displayMessage = function(message, type){\n\tvar html = '<div class=\"alert fade in alert-dismissable alert-' + type + '\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button><span class=\"h4\">' + message + '</span></div>';\n\t$('#message').append(html);\n\tsetTimeout(function() {\n\t\t$(\".alert\").alert('close');\n\t}, 3000);\n};"],"sourceRoot":"/source/"}