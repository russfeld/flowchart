{"version":3,"sources":["profiles.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profiles.js","sourcesContent":["require(['util/site'], function(site) {\n\n\tsite.ajaxcrsf();\n\n\t$('#saveProfile').on('click', function(){\n\t\t$('#profileSpin').removeClass('hide-spin');\n\t\tvar data = {\n\t\t\tfirst_name: $('#first_name').val(),\n\t\t\tlast_name: $('#last_name').val(),\n\t\t};\n\t\t$.ajax({\n\t\t  method: \"POST\",\n\t\t  url: '/profile/update',\n\t\t  data: data\n\t\t})\n\t\t.success(function( message ) {\n\t\t\tsite.displayMessage(message, \"success\");\n\t\t\t$('.form-group').each(function (){\n\t\t\t\t$(this).removeClass('has-error');\n\t\t\t\t$(this).find('.help-block').text('');\n\t\t\t});\n\t\t\t$('#profileSpin').addClass('hide-spin');\n\t\t\t$('#profileAdvisingBtn').removeClass('hide-spin');\n\t\t}).fail(function( jqXHR, message ){\n\t\t\tif (jqXHR.status == 422)\n\t\t\t{\n\t\t\t\t$('.form-group').each(function (){\n\t\t\t\t\t$(this).removeClass('has-error');\n\t\t\t\t\t$(this).find('.help-block').text('');\n\t\t\t\t});\n\t\t\t\t$.each(jqXHR.responseJSON, function (key, value) {\n\t\t\t\t\t$('#' + key).parents('.form-group').addClass('has-error');\n\t\t\t\t\t$('#' + key + 'help').text(value);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\talert(\"Unable to save profile: \" + jqXHR.responseJSON);\n\t\t\t}\n\t\t\t$('#profileSpin').addClass('hide-spin');\n\t\t});\n\t});\n\n});\n"],"sourceRoot":"/source/"}